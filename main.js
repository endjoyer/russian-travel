(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,i,a,s=(i=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(i);if(a){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e))._pictureFull=t._popup.querySelector(".popup-look-img__image"),t._titlePicture=t._popup.querySelector(".popup-look-img__title"),t}return t=f,(n=[{key:"open",value:function(e,t){this._pictureFull.src=t,this._pictureFull.alt=e,this._titlePicture.textContent=e,o(l(f.prototype),"open",this).call(this)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this),this._handleTargetClose=this._handleTargetClose.bind(this)}var n,r;return n=e,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("click",this._handleTargetClose),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("click",this._handleTargetClose),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){return e.close()}))}},{key:"_handleTargetClose",value:function(e){e.target.classList.contains("popup")&&this.close()}},{key:"_handleEscClose",value:function(e){"Escape"===e.code&&this.close()}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}());function s(){this.init=function(e,t){this.attribute=e,this.lng=t},this.process=function(){_self=this;var e=new XMLHttpRequest;e.open("GET","lng/"+this.lng+".json",!1),e.onreadystatechange=function(){if(4===e.readyState&&(200===e.status||0==e.status))for(var t=JSON.parse(e.responseText),n=document.getElementsByTagName("*"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute(_self.attribute);null!=i&&(o.innerHTML=t[i])}},e.send()}}function f(e,t){var n=new s;n.init(t,e),n.process(),"en"==e&&($("#enTranslator").css("color","#f4623a"),$("#ruTranslator").css("color","#212529")),"ru"==e&&($("#ruTranslator").css("color","#f4623a"),$("#enTranslator").css("color","#212529"))}$(document).ready((function(){$("#enTranslator").click((function(){f("en","lng-tag")})),$("#ruTranslator").click((function(){f("ru","lng-tag")}))}));var p,y=document.querySelector(".popup"),v=Array.from(document.querySelectorAll(".place__image")),d=Array.from(document.querySelectorAll(".gallery__image")),h=-1,b=new a(y);b.setEventListeners();for(var m=function(){var e=_[g];e.addEventListener("click",(function(t){t.preventDefault(),h=v.indexOf(e);var n=(p=v[h].cloneNode()).src,r=p.alt;b.open(r,n)}))},g=0,_=v;g<_.length;g++)m();for(var w=function(){var e=E[S];e.addEventListener("click",(function(t){t.preventDefault(),h=d.indexOf(e);var n=(p=d[h].cloneNode()).src,r=p.alt;b.open(r,n)}))},S=0,E=d;S<E.length;S++)w()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sVUFDbEIsR0FDRixJQTBCQSxJQU9JTSxFQVBFQyxFQUFXekMsU0FBU2IsY0FBYyxVQUNsQ3VELEVBQWdCQyxNQUFNQyxLQUFLNUMsU0FBUzZDLGlCQUFpQixrQkFDckRDLEVBQW1CSCxNQUFNQyxLQUM3QjVDLFNBQVM2QyxpQkFBaUIsb0JBR3hCRSxHQUFnQixFQUdkQyxFQUFpQixJQUFJakUsRUFBZTBELEdBRTFDTyxFQUFlQyxvQkFFZixJQUZtQyxpQkFFOUIsSUFBTUMsRUFBTyxLQUNoQkEsRUFBUWpELGlCQUFpQixTQUFTLFNBQUNrRCxHQUNqQ0EsRUFBTUMsaUJBQ05MLEVBQWVMLEVBQWNXLFFBQVFILEdBRXJDLElBQU01RCxHQUROa0QsRUFBY0UsRUFBY0ssR0FBY08sYUFDakI5RCxJQUNuQkgsRUFBT21ELEVBQVkvQyxJQUN6QnVELEVBQWUvQixLQUFLNUIsRUFBTUMsRUFDNUIsR0FDRixFQVRBLE1BQXNCb0QsRUFBYSxtQkFZbkMsSUFEQSxpQkFDSyxJQUFNUSxFQUFPLEtBQ2hCQSxFQUFRakQsaUJBQWlCLFNBQVMsU0FBQ2tELEdBQ2pDQSxFQUFNQyxpQkFDTkwsRUFBZUQsRUFBaUJPLFFBQVFILEdBRXhDLElBQU01RCxHQUROa0QsRUFBY00sRUFBaUJDLEdBQWNPLGFBQ3BCOUQsSUFDbkJILEVBQU9tRCxFQUFZL0MsSUFDekJ1RCxFQUFlL0IsS0FBSzVCLEVBQU1DLEVBQzVCLEdBQ0YsRUFUQSxNQUFzQndELEVBQWdCLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnVzc2lhbi10cmF2ZWwvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9ydXNzaWFuLXRyYXZlbC8uL3NyYy9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL3J1c3NpYW4tdHJhdmVsLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwRWxlbWVudCkge1xyXG4gICAgc3VwZXIocG9wdXBFbGVtZW50KTtcclxuICAgIHRoaXMuX3BpY3R1cmVGdWxsID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLWxvb2staW1nX19pbWFnZScpO1xyXG4gICAgdGhpcy5fdGl0bGVQaWN0dXJlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLWxvb2staW1nX190aXRsZScpO1xyXG4gIH1cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX3BpY3R1cmVGdWxsLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9waWN0dXJlRnVsbC5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fdGl0bGVQaWN0dXJlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwRWxlbWVudCkge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cEVsZW1lbnQ7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVUYXJnZXRDbG9zZSA9IHRoaXMuX2hhbmRsZVRhcmdldENsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhcmdldENsb3NlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYXJnZXRDbG9zZSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlVGFyZ2V0Q2xvc2UoZSkge1xyXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXAnKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xyXG4gICAgaWYgKGUuY29kZSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5cclxuZnVuY3Rpb24gVHJhbnNsYXRlKCkge1xyXG4gIC8vaW5pdGlhbGl6YXRpb25cclxuICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoYXR0cmlidXRlLCBsbmcpIHtcclxuICAgIHRoaXMuYXR0cmlidXRlID0gYXR0cmlidXRlO1xyXG4gICAgdGhpcy5sbmcgPSBsbmc7XHJcbiAgfTtcclxuICAvL3RyYW5zbGF0ZVxyXG4gIHRoaXMucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIF9zZWxmID0gdGhpcztcclxuICAgIHZhciB4cmhGaWxlID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAvL2xvYWQgY29udGVudCBkYXRhXHJcbiAgICB4cmhGaWxlLm9wZW4oJ0dFVCcsICdsbmcvJyArIHRoaXMubG5nICsgJy5qc29uJywgZmFsc2UpO1xyXG4gICAgeHJoRmlsZS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh4cmhGaWxlLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICBpZiAoeHJoRmlsZS5zdGF0dXMgPT09IDIwMCB8fCB4cmhGaWxlLnN0YXR1cyA9PSAwKSB7XHJcbiAgICAgICAgICB2YXIgTG5nT2JqZWN0ID0gSlNPTi5wYXJzZSh4cmhGaWxlLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICB2YXIgYWxsRG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRG9tLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtID0gYWxsRG9tW2ldO1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gZWxlbS5nZXRBdHRyaWJ1dGUoX3NlbGYuYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgaWYgKGtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBMbmdPYmplY3Rba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHhyaEZpbGUuc2VuZCgpO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYW5zbGF0ZShsbmcsIHRhZ0F0dHIpIHtcclxuICB2YXIgdHJhbnNsYXRlID0gbmV3IFRyYW5zbGF0ZSgpO1xyXG4gIHRyYW5zbGF0ZS5pbml0KHRhZ0F0dHIsIGxuZyk7XHJcbiAgdHJhbnNsYXRlLnByb2Nlc3MoKTtcclxuICBpZiAobG5nID09ICdlbicpIHtcclxuICAgICQoJyNlblRyYW5zbGF0b3InKS5jc3MoJ2NvbG9yJywgJyNmNDYyM2EnKTtcclxuICAgICQoJyNydVRyYW5zbGF0b3InKS5jc3MoJ2NvbG9yJywgJyMyMTI1MjknKTtcclxuICB9XHJcbiAgaWYgKGxuZyA9PSAncnUnKSB7XHJcbiAgICAkKCcjcnVUcmFuc2xhdG9yJykuY3NzKCdjb2xvcicsICcjZjQ2MjNhJyk7XHJcbiAgICAkKCcjZW5UcmFuc2xhdG9yJykuY3NzKCdjb2xvcicsICcjMjEyNTI5Jyk7XHJcbiAgfVxyXG59XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAvL1RoaXMgaXMgaWQgb2YgSFRNTCBlbGVtZW50IChFbmdsaXNoKSB3aXRoIGF0dHJpYnV0ZSBsbmctdGFnXHJcbiAgJCgnI2VuVHJhbnNsYXRvcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHRyYW5zbGF0ZSgnZW4nLCAnbG5nLXRhZycpO1xyXG4gIH0pO1xyXG4gIC8vVGhpcyBpcyBpZCBvZiBIVE1MIGVsZW1lbnQgKEtobWVyKSB3aXRoIGF0dHJpYnV0ZSBsbmctdGFnXHJcbiAgJCgnI3J1VHJhbnNsYXRvcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHRyYW5zbGF0ZSgncnUnLCAnbG5nLXRhZycpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vIGZ1bmN0aW9uIHRyYW5zbGF0ZShsbmcsIHRhZ0F0dHIpIHtcclxuLy8gICB2YXIgdHJhbnNsYXRlID0gbmV3IFRyYW5zbGF0ZSgpO1xyXG4vLyAgIHRyYW5zbGF0ZS5pbml0KHRhZ0F0dHIsIGxuZyk7XHJcbi8vICAgdHJhbnNsYXRlLnByb2Nlc3MoKTtcclxuLy8gICBpZiAobG5nID09ICdlbicpIHtcclxuLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlblRyYW5zbGF0b3InKS5jc3MoJ2NvbG9yJywgJyNmNDYyM2EnKTtcclxuLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydVRyYW5zbGF0b3InKS5jc3MoJ2NvbG9yJywgJyMyMTI1MjknKTtcclxuLy8gICB9XHJcbi8vICAgaWYgKGxuZyA9PSAncnUnKSB7XHJcbi8vICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcnVUcmFuc2xhdG9yJykuY3NzKCdjb2xvcicsICcjZjQ2MjNhJyk7XHJcbi8vICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW5UcmFuc2xhdG9yJykuY3NzKCdjb2xvcicsICcjMjEyNTI5Jyk7XHJcbi8vICAgfVxyXG4vLyB9XHJcbi8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuLy8gICAvL1RoaXMgaXMgaWQgb2YgSFRNTCBlbGVtZW50IChFbmdsaXNoKSB3aXRoIGF0dHJpYnV0ZSBsbmctdGFnXHJcbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VuVHJhbnNsYXRvcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIHRyYW5zbGF0ZSgnZW4nLCAnbG5nLXRhZycpO1xyXG4vLyAgIH0pO1xyXG4vLyAgIC8vVGhpcyBpcyBpZCBvZiBIVE1MIGVsZW1lbnQgKEtobWVyKSB3aXRoIGF0dHJpYnV0ZSBsbmctdGFnXHJcbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1VHJhbnNsYXRvcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIHRyYW5zbGF0ZSgncnUnLCAnbG5nLXRhZycpO1xyXG4vLyAgIH0pO1xyXG4vLyB9KTtcclxuXHJcbmNvbnN0IHBvcHVwSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbmNvbnN0IHBpY3R1cmVzUGxlYXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGFjZV9faW1hZ2UnKSk7XHJcbmNvbnN0IHBpY3R1cmVzR2FsbGVyeXMgPSBBcnJheS5mcm9tKFxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5X19pbWFnZScpXHJcbik7XHJcblxyXG5sZXQgcGljdHVyZUluZGV4ID0gLTE7XHJcbmxldCBwaWN0dXJlRnVsbDtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1nKTtcclxuXHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mb3IgKGNvbnN0IHBpY3R1cmUgb2YgcGljdHVyZXNQbGVhcykge1xyXG4gIHBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBwaWN0dXJlSW5kZXggPSBwaWN0dXJlc1BsZWFzLmluZGV4T2YocGljdHVyZSk7XHJcbiAgICBwaWN0dXJlRnVsbCA9IHBpY3R1cmVzUGxlYXNbcGljdHVyZUluZGV4XS5jbG9uZU5vZGUoKTtcclxuICAgIGNvbnN0IGxpbmsgPSBwaWN0dXJlRnVsbC5zcmM7XHJcbiAgICBjb25zdCBuYW1lID0gcGljdHVyZUZ1bGwuYWx0O1xyXG4gICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcclxuICB9KTtcclxufVxyXG5cclxuLy9pdCdsbCBkbyBqdXN0IGZpbmUgKVxyXG5mb3IgKGNvbnN0IHBpY3R1cmUgb2YgcGljdHVyZXNHYWxsZXJ5cykge1xyXG4gIHBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBwaWN0dXJlSW5kZXggPSBwaWN0dXJlc0dhbGxlcnlzLmluZGV4T2YocGljdHVyZSk7XHJcbiAgICBwaWN0dXJlRnVsbCA9IHBpY3R1cmVzR2FsbGVyeXNbcGljdHVyZUluZGV4XS5jbG9uZU5vZGUoKTtcclxuICAgIGNvbnN0IGxpbmsgPSBwaWN0dXJlRnVsbC5zcmM7XHJcbiAgICBjb25zdCBuYW1lID0gcGljdHVyZUZ1bGwuYWx0O1xyXG4gICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcclxuICB9KTtcclxufVxyXG4iXSwibmFtZXMiOlsiUG9wdXBXaXRoSW1hZ2UiLCJwb3B1cEVsZW1lbnQiLCJfcGljdHVyZUZ1bGwiLCJfcG9wdXAiLCJxdWVyeVNlbGVjdG9yIiwiX3RpdGxlUGljdHVyZSIsIm5hbWUiLCJsaW5rIiwidGhpcyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9oYW5kbGVUYXJnZXRDbG9zZSIsImNsYXNzTGlzdCIsImFkZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsImUiLCJ0YXJnZXQiLCJjb250YWlucyIsImNvZGUiLCJUcmFuc2xhdGUiLCJpbml0IiwiYXR0cmlidXRlIiwibG5nIiwicHJvY2VzcyIsIl9zZWxmIiwieHJoRmlsZSIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJMbmdPYmplY3QiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJhbGxEb20iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJsZW5ndGgiLCJlbGVtIiwia2V5IiwiZ2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwic2VuZCIsInRyYW5zbGF0ZSIsInRhZ0F0dHIiLCIkIiwiY3NzIiwicmVhZHkiLCJjbGljayIsInBpY3R1cmVGdWxsIiwicG9wdXBJbWciLCJwaWN0dXJlc1BsZWFzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInBpY3R1cmVzR2FsbGVyeXMiLCJwaWN0dXJlSW5kZXgiLCJwb3B1cFdpdGhJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicGljdHVyZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJpbmRleE9mIiwiY2xvbmVOb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==